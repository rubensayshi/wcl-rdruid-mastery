<div class="row">
    <div class="col-xs-12">
        <h1>RESULT!</h1>

        <div class="row">
            <div class="col-xs-12 col-md-4">
                <div class="panel panel-default">
                    <div class="panel-heading">
                        <h3 class="panel-title">Total Healing Done</h3>
                    </div>
                    <div class="panel-body">
                        {{ result.totalHealing | number:0 }} healing done <br />
                        {{ result.totalOverhealing | number:0 }} overhealing done, {{ ((result.totalOverhealing / (result.totalHealing + result.totalOverhealing)) * 100) | number:1 }}% <br />
                        {{ result.rejuvCasts | number:0 }} rejuvs casted, {{ result.rejuvBuffs | number:0 }} rejuv buffs, {{ result.rejuvTicks | number:0 }} rejuv ticks
                    </div>
                </div>
            </div>
            <div class="col-xs-12 col-md-4">
                <div class="panel panel-default">
                    <div class="panel-heading">
                        <h3 class="panel-title">Magic Rejuvs</h3>
                    </div>
                    <div class="panel-body">
                        {{ result.magicRejuvs | number:0 }} rejuvs we were unable to figure out where they came from
                    </div>
                </div>
            </div>
            <div class="col-xs-12 col-md-4">
                <div class="panel panel-default">
                    <div class="panel-heading">
                        <h3 class="panel-title">Power of the Archdruid</h3>
                    </div>
                    <div class="panel-body">
                        {{ result.PotA.rejuvs | number:0 }} bonus rejuvs,
                        {{ result.PotA.regrowths | number:0 }} bonus regrowths <br />
                        {{ result.PotA.healing | number:0 }} healing done, {{ ((result.PotA.healing / result.totalHealing) * 100) | number:1 }}%
                    </div>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-xs-12 col-md-4">
                <div class="panel panel-default">
                    <div class="panel-heading">
                        <h3 class="panel-title">Tier19 4pc</h3>
                    </div>
                    <div class="panel-body">
                        <div ng-if="!result.tier194pc">
                            Slack much? go PuG some HC to get 4pc tier19!
                        </div>
                        <div ng-if="result.tier194pc">
                            {{ result.tier194pcRejuvs | number:0 }} bonus rejuvs <br />
                            {{ (((result.tier194pcRejuvs || 0) / result.rejuvTicks) * 100) | number:3 }}% proc rate <br />
                            {{ result.tier194pcHealing | number:0 }} healing done, {{ ((result.tier194pcHealing / result.totalHealing) * 100) | number:1 }}%<br />
                            {{ result.tier194pcOverhealing | number:0 }} overhealing done, {{ ((result.tier194pcOverhealing / (result.tier194pcHealing + result.tier194pcOverhealing)) * 100) | number:1 }}%
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-xs-12 col-md-4">
                <div class="panel panel-default">
                    <div class="panel-heading">
                        <h3 class="panel-title">Tearstone</h3>
                    </div>
                    <div class="panel-body">
                        <div ng-if="!result.tearstone">
                            Awh, y u have no tearstone!? 7.2 nerfbat!
                        </div>
                        <div ng-if="result.tearstone">
                            {{ result.tearstoneRejuvs | number:0 }} bonus rejuvs <br />
                            {{ (((result.tearstoneRejuvs || 0) / (result.wgCasts * 5)) * 100) | number:2 }}% proc rate <br />
                            {{ result.tearstoneHealing | number:0 }} healing done, {{ ((result.tearstoneHealing / result.totalHealing) * 100) | number:1 }}% <br />
                            {{ result.tearstoneOverhealing | number:0 }} overhealing done, {{ ((result.tearstoneOverhealing / (result.tearstoneHealing + result.tearstoneOverhealing)) * 100) | number:1 }}%
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-xs-12 col-md-4">
                <div class="panel panel-default">
                    <div class="panel-heading">
                        <h3 class="panel-title">Legendary Shoulders</h3>
                    </div>
                    <div class="panel-body">
                        <div ng-if="!result.legshoulders">
                            Meme shoulders so gud now!? get ehm while they're not nerfed yet!
                        </div>
                        <div ng-if="result.legshoulders">
                            {{ result.fullOverhealRejuvTicks | number: 0 }} rejuv ticks on max HP targets <br />
                            {{ result.legshouldersTicks | number:0 }} bonus rejuv ticks ({{ ((result.legshouldersTicks / result.rejuvTicks) * 100) | number:1 }}% of all ticks)
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-xs-12 col-md-4">
                <div class="panel panel-default">
                    <div class="panel-heading">
                        <h3 class="panel-title">Spring Blossoms</h3>
                    </div>
                    <div class="panel-body">
                        <div ng-if="!result.talents.SB">
                            No Spring Blossoms? Much flowers, such healz!
                        </div>
                        <div ng-if="result.talents.SB">
                            healing from SB: <br />
                            {{ result.healingPerSpell[CONSTS.SPELLS.SB] | number:0 }} ({{ ((result.healingPerSpell[CONSTS.SPELLS.SB] / result.totalHealing) * 100) | number:1 }}%) <br />
                            bonus healing from mastery from SB HoT: <br />
                            {{ result.masteryStacksHealingPerHoTRaw[CONSTS.SPELLS.SB] | number:0 }} ({{ ((result.masteryStacksHealingPerHoTRaw[CONSTS.SPELLS.SB] / result.totalHealing) * 100) | number:1 }}%) <br />
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-xs-12 col-md-4">
                <div class="panel panel-default">
                    <div class="panel-heading">
                        <h3 class="panel-title">Cultivation</h3>
                    </div>
                    <div class="panel-body">
                        <div ng-if="!result.talents.CULTI">
                            No Culti? Free healz! No Effort! ToL so stronk?
                        </div>
                        <div ng-if="result.talents.CULTI">
                            healing from Culti: <br />
                            {{ result.healingPerSpell[CONSTS.SPELLS.CULTI] | number:0 }} ({{ ((result.healingPerSpell[CONSTS.SPELLS.CULTI] / result.totalHealing) * 100) | number:1 }}%) <br />
                            bonus healing from mastery from CULTI HoT: <br />
                            {{ result.masteryStacksHealingPerHoTRaw[CONSTS.SPELLS.CULTI] | number:0 }} ({{ ((result.masteryStacksHealingPerHoTRaw[CONSTS.SPELLS.CULTI] / result.totalHealing) * 100) | number:1 }}%) <br />
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-xs-12 col-md-6">
                <div class="panel panel-default">
                    <div class="panel-heading">
                        <h3 class="panel-title">Mastery Stacks (weighted by time)</h3>
                    </div>
                    <div class="panel-body">
                        <div class="well">
                            {{ result.masteryStacksTime.avghots | number:2 }} avg HoTs on target
                        </div>

                        <table class="table">
                            <thead>
                            <tr>
                                <td>stacks</td>
                                <td>time</td>
                                <td>%</td>
                                <td>cummul time</td>
                                <td>cummul %</td>
                            </tr>
                            </thead>
                            <tbody>
                            <tr ng-repeat="row in result.masteryStacksTime.table">
                                <td>{{ row.stacks }} stacks</td>
                                <td>{{ (row.value / 1000) | number:1 }}</td>
                                <td>{{ row.percentage | number:1 }}%</td>
                                <td>{{ (row.cvalue / 1000) | number:1 }}</td>
                                <td>{{ row.cpercentage | number:1 }}%</td>
                            </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
            <div class="col-xs-12 col-md-6">
                <div class="panel panel-default">
                    <div class="panel-heading">
                        <h3 class="panel-title">Mastery Stacks (weighted by healing done)</h3>
                    </div>
                    <div class="panel-body">
                        <div class="well">
                            {{ result.masteryStacksHealing.avghots | number:2 }} avg HoTs on target weighted by healing
                        </div>

                        <table class="table">
                            <thead>
                            <tr>
                                <td>stacks</td>
                                <td>healing done</td>
                                <td>%</td>
                                <td>cummul healing done</td>
                                <td>cummul %</td>
                            </tr>
                            </thead>
                            <tbody>
                            <tr ng-repeat="row in result.masteryStacksHealing.table">
                                <td>{{ row.stacks }} stacks</td>
                                <td>{{ row.value | number:0 }}</td>
                                <td>{{ row.percentage | number:1 }}%</td>
                                <td>{{ row.cvalue | number:0 }}</td>
                                <td>{{ row.cpercentage | number:1 }}%</td>
                            </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
